class MenuManager{constructor(){this.currentMenu="hauptspeisekarte",this.init()}init(){this.setupMenuTabs(),this.setupIngredientsToggles(),this.setupBackToTop(),this.setupMobileNavigation(),this.setupCookieBanner()}setupMenuTabs(){document.querySelectorAll(".menu-tab").forEach((e=>{e.addEventListener("click",(()=>{const t=e.getAttribute("data-menu");this.switchMenu(t)}))}))}setupIngredientsToggles(){const e=document.querySelectorAll(".ingredients-toggle");e.forEach((t=>{t.addEventListener("click",(o=>{o.preventDefault(),o.stopPropagation();const n=t.nextElementSibling;e.forEach((e=>{e!==t&&(e.classList.remove("active"),e.nextElementSibling.classList.remove("active"))})),t.classList.toggle("active"),n.classList.toggle("active")})),t.addEventListener("touchend",(e=>{e.preventDefault(),e.stopPropagation(),t.click()}))}))}setupBackToTop(){const e=document.getElementById("back-to-top");window.addEventListener("scroll",(()=>{window.scrollY>300?e.classList.add("visible"):e.classList.remove("visible")})),e.addEventListener("click",(()=>{window.scrollTo({top:0,behavior:"smooth"})}))}setupMobileNavigation(){const e=document.getElementById("hamburger"),t=document.getElementById("mobile-nav-sidebar"),o=document.getElementById("mobile-nav-overlay"),n=document.getElementById("mobile-nav-close"),c=()=>{t.classList.add("active"),o.classList.add("active"),document.body.style.overflow="hidden"},s=()=>{t.classList.remove("active"),o.classList.remove("active"),document.body.style.overflow=""};e&&e.addEventListener("click",c),n&&n.addEventListener("click",s),o&&o.addEventListener("click",s);document.querySelectorAll(".mobile-nav-links .nav-link").forEach((e=>{e.addEventListener("click",s)}))}setupCookieBanner(){const e=document.getElementById("cookie-banner"),t=document.querySelectorAll(".cookie-btn");localStorage.getItem("cookiePreference")||setTimeout((()=>{e.classList.add("show")}),1e3),t.forEach((t=>{t.addEventListener("click",(()=>{const o=t.id.replace("cookie-","");localStorage.setItem("cookiePreference",o),e.classList.remove("show")}))}));const o=document.getElementById("cookie-settings");o&&o.addEventListener("click",(t=>{t.preventDefault(),localStorage.removeItem("cookiePreference"),e.classList.add("show")}))}switchMenu(e){const t=document.getElementById("tageskarte-banner");t.style.display="tageskarte"===e?"block":"none",document.querySelectorAll(".menu-tab").forEach((e=>{e.classList.remove("active")})),document.querySelector(`[data-menu="${e}"]`).classList.add("active"),document.querySelectorAll(".menu-section").forEach((e=>{e.classList.remove("active")})),document.getElementById(e).classList.add("active"),this.currentMenu=e;const o=document.querySelectorAll(".ingredients-toggle"),n=document.querySelectorAll(".ingredients-content");o.forEach((e=>e.classList.remove("active"))),n.forEach((e=>e.classList.remove("active")))}}document.querySelectorAll('a[href^="#"]').forEach((e=>{e.addEventListener("click",(function(e){const t=this.getAttribute("href");if("#"!==t){const o=document.querySelector(t);o&&(e.preventDefault(),o.scrollIntoView({behavior:"smooth",block:"start"}))}}))})),window.addEventListener("scroll",(()=>{const e=document.getElementById("header");window.scrollY>100?(e.style.background="rgba(255, 255, 255, 0.95)",e.style.backdropFilter="blur(10px)"):(e.style.background="var(--white)",e.style.backdropFilter="none")})),document.addEventListener("DOMContentLoaded",(()=>{new MenuManager}));